"#!/usr/bin/env perl\nuse warnings;\nuse strict;\n\n\nmy $USAGE = \"usage: perl get_htseq_fpkm_spreadsheet.pl <sample dir> <loc>\n\nwhere:\n<sample dir> is the name of a file with the names of sample directories (no paths)\n<loc> is the path to the dir with the sample directories\n\n\";\n\nif (@ARGV<2) {\n    die $USAGE;\n}\nunless (-e $ARGV[0]){\n    die \"\\nERROR: file '$ARGV[0]' does not exist.\\n\\n\";\n}\nunless (-d $ARGV[1]){\n    die \"\\nERROR: directory '$ARGV[1]' does not exist.\\n\\n\";\n}\n\nmy $LOC = $ARGV[1];\n$LOC =~ s/\\/$//;\nmy @fields = split(\"/\", $LOC);\nmy $last_dir = $fields[@fields-1];\nmy $study_dir = $LOC;\n$study_dir =~ s/$last_dir//;\nmy $shdir = $study_dir . \"shell_scripts\";\nmy $logdir = $study_dir . \"logs\";\nmy $htseqdir = $study_dir . \"HTSEQ_FPKM\";\nmy $from_dir = \"/projects/data/RNASEQ/HTSEQ_FPKM/\";\nunless (-d $shdir){\n    `mkdir $shdir`;\n}\nunless (-d $logdir){\n    `mkdir $logdir`;\n}\nunless (-d $htseqdir){\n    `mkdir $htseqdir`;\n}\nmy $home = $ENV{HOME};\nif (-e \"$htseqdir/FINAL_master_list_of_genes_counts.htseq.txt\"){\n    `rm $htseqdir/FINAL_master_list_of_genes_counts.htseq.txt`;\n}\nmy $s = `ln -s $from_dir/FINAL_master_list_of_genes_counts_MIN.GCB535_2016.htseq.txt $htseqdir/FINAL_master_list_of_genes_counts.htseq.txt`;\n\nif (-e \"$htseqdir/FINAL_master_list_of_genes_counts.htseq.FPKM.txt\"){\n    `rm $htseqdir/FINAL_master_list_of_genes_counts.htseq.FPKM.txt`;\n}\n$s = `ln -s $from_dir/FINAL_master_list_of_genes_counts_MIN.GCB535_2016.htseq.FPKM.txt $htseqdir/FINAL_master_list_of_genes_counts.htseq.FPKM.txt`;\n"